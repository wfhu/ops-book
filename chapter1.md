# 运维能力第一阶段--满足业务需求

---

## 一：满足业务对资源需求的能力

业务对资源的合理需求必须得到满足，保证质量和效率的同时控制成本。

主要从以下三个方面考虑：

* 效率：同样的资源需求，多久能得到满足，一个月、一个星期、一天或者2小时，有质的区别。

* 质量：给出来的资源质量如何？是否符合预期？

* 成本：成本必须得到控制

### 选择传统物理IDC

优势：

机器配置和网络架构更加自主可控

物理隔离更安全

覆盖地域更广

性能可预期

劣势：

交付周期长

防攻击抵御能力差

可伸缩性比较差



### 选择云服务厂商 

### 选择专业的第三方服务供应商

### 容量（能力）管理

-工作案例：

1. 操作系统安装和配置标准化/自动化（kickstart/PXE），云主机模板
2. 开发服务器/CDN常见操作自助功能
3. 物理机房网络和机架调整和优化
4. 物理机房资源池建设和业务预算
5. 迁移业务至云服务商
6. HP/DELL/华为设备采购签订年度框架协议
7. CDN引入Cloudflare
8. 日志分析直接上无服务的架构

二：满足业务发布/变更的能力

运维不能成为阻挡业务发布/变更的障碍

1. 效率: 自助操作
2. 质量: 流程化/规范化

发布系统

持续集成和持续交付

作业系统

-工作案例：

1. 开发发布系统，业务自助发布
2. 引入RUNDECK作业系统，固化常用操作，授权业务自己操作
3. 基于k8s/Docker/SVN/Jenkins的测试环境自动持续集成

三：快速获取业务相关信息的能力

有异常能发现，平时不出故障，出故障有预案，能快速定位解决

1. 效率: 自助化/可视化/用户体验 基础设施既代码 配置管理 文档
2. 质量: 多维度监控覆盖
3. 屏蔽复杂度，给需要数据的部门/业务，提供统一的获取数据的接口

监控和报警系统

基础监控

系统监控

网络监控

应用监控

Statsd

业务监控

第三方监控

日志分析

ELK系统

调用追踪系统

OpenTrace

OpenZipkin

-工作案例：

1. 引入WIKI工具，规范工作文档
2. 引入puppet/saltstack工具维护线上环境配置，环境可重现
3. zabbix/smokeping/prometheus/graphite/grafana多维度监控和可视化
4. 集群基础设施引入CloudFormation/Terraform等工具管理

四：满足业务对可用性和稳定性要求的能力

默认一切都是不可靠的，都是会出故障的

（跑的好不好，现在、未来、持久地跑好）

1. 质量: 去单点 故障自愈能力 安全规范和扫描
2. 效率: 预案和演练

架构高可用（去单点）

服务自动恢复

横向可扩展性

安全、可控、可预期

-核心能力/概念

：知识/故障管理，可扩展性，可靠性和运行效率

-工作案例：

1. WEB层全面去单点
2. 引入Docker集群，自动故障漂移/恢复
3. 例行强制重启任意一台业务机，确保高可用能力
4. 引入Nessus/OpenVAS例行扫描，发现对外开放的免密的redis/memcache等

五、快速部署和故障恢复的能力

故障演练和预案

基础设施即代码（Infrastructure as Code）

CloudFormation

TerraForm

配置管理工具

系统镜像和模板

备份与恢复

不可变基础设施

